<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>MathLive Tastatur</title>
    <script defer src="https://cdn.jsdelivr.net/npm/mathlive"></script>
  </head>
  <body>
    <!-- Mathfield: Policy auf 'manual', damit wir die Tastatur selbst steuern -->
    <math-field id="mf" math-virtual-keyboard-policy="manual">
      x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
    </math-field>

    <script>
      window.addEventListener("DOMContentLoaded", () => {
        const mf = document.getElementById("mf");
        // Policy zur Sicherheit auch programmgesteuert setzen
        mf.mathVirtualKeyboardPolicy = "manual";
        // Tastatur anzeigen (funktioniert auch am Desktop)
        mathVirtualKeyboard.show();
        // Fokus geben, damit Eingaben ein Ziel haben
        mf.focus();

        // Optional: Verhindern, dass sie wieder zugeht (z.B. in der Preview)
        mathVirtualKeyboard.addEventListener(
          "before-virtual-keyboard-toggle",
          (e) => {
            if (!e.detail.visible) e.preventDefault();
          }
        );
      });
    </script>
  </body>
</html>
